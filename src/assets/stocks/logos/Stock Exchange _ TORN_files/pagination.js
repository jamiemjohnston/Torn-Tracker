function handlePaginationInitialization(paginationWidth,paginationSelector){var $pagination=paginationSelector||$('.pagination').first();if(isOperaMini()&&$('.faction-main-wrap').length){var activeTab=$('#faction-news .tabs .ui-tabs-active').attr('aria-controls');$pagination=$('#'+activeTab).find('.pagination');}
var arrowsWidth=$pagination.find('.pagination-left').closest('a').outerWidth(true)+$pagination.find('.pagination-right').closest('a').outerWidth(true);var pointsWidth=$pagination.find('.points').first().outerWidth(true)*2;var activeNumberWidth=$pagination.find('.page-number.active').outerWidth(true);var firstAndLastNumberWidth=$pagination.find('.page-number.first').outerWidth(true)+$pagination.find('.page-number.last').outerWidth(true);var widthWithoutShowedNumbers=paginationWidth-(arrowsWidth+pointsWidth+activeNumberWidth+firstAndLastNumberWidth);var maxNumberWidth=$pagination.find('.page-number').not('.first, .last').last().outerWidth(true);var visiblePaginationElementsCount=Math.floor(widthWithoutShowedNumbers/maxNumberWidth);initializePagination(visiblePaginationElementsCount,'active','page-number',paginationSelector);};function paginationUpdate(paginationSelector){var paginationDesktopWidth=764;var paginationTabletWidth=366;var paginationMobileWidth=320;var $contentWrapper=$('.content-wrapper');if($contentWrapper.hasClass('logged-out')&&!$contentWrapper.find('.computer-wrap').length){paginationDesktopWidth=952;paginationTabletWidth=554;}
var isPaginationInitOnDesktop=false;var isPaginationInitOnTablet=false;var isPaginationInitOnMobile=false;$(window).resize(function(){if(getBrowserWidth()>maxTabletSize&&!isPaginationInitOnDesktop){handlePaginationInitialization(paginationDesktopWidth,paginationSelector);isPaginationInitOnDesktop=true;isPaginationInitOnTablet=false;isPaginationInitOnMobile=false;if(isOperaMini()){isPaginationInitOnDesktop=false;}}
if(getBrowserWidth()<=maxTabletSize&&getBrowserWidth()>minTabletSize&&!isPaginationInitOnTablet){handlePaginationInitialization(paginationTabletWidth,paginationSelector);isPaginationInitOnDesktop=false;isPaginationInitOnTablet=true;isPaginationInitOnMobile=false;if(isOperaMini()){isPaginationInitOnTablet=false;}}
if(getBrowserWidth()<=minTabletSize&&!isPaginationInitOnMobile){handlePaginationInitialization(paginationMobileWidth,paginationSelector);isPaginationInitOnDesktop=false;isPaginationInitOnTablet=false;isPaginationInitOnMobile=true;if(isOperaMini()){isPaginationInitOnMobile=false;}}}).resize();};$(document).ajaxComplete(function(){if($('.pagination').length>0&&!$('.pagination .page-number.page-show').length>0){paginationUpdate();}});jQuery(function(){paginationUpdate();});